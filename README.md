# Rust Bindings to C's GraphViz library
This crate provides bindings and minimal wrapper types for interacting with C graphviz. 

# graphviz
This crate provides an idiomatic Rust wrapper over the Graphviz C libraries (`libgvc` and `libcgraph`),
enabling you to create, layout, and render graphs using Graphviz in a safe and ergonomic way.
## Features
- Construct graphs from DOT source or programmatically
- Add nodes and edges with fine-grained attribute control
- Apply Graphviz attributes using strongly typed enums
- Support for Graphviz layout engines (`dot`, `neato`, `fdp`, etc.)
- Output to formats like `svg`, `png`, `dot`, `json`, and many more
- Extensible trait-based attribute system
- Optional `serde` support for attribute enums

## Example
```rust
use graphviz::*;
use graphviz::style::{NodeAttr, GraphAttr, CommonAttr};
use graphviz::style::shape::NodeShape;
fn main() {
    let ctx = Context::new();
    // Start with an empty directed graph
    let mut graph = Graph::new("digraph G {}", &ctx);
    // Add nodes A and B
    graph.add_node("A");
    graph.add_node("B");
    graph.add_edge("A", "B", "A_to_B");
    // Style node A
    graph.set_attr_on_node("A", NodeAttr::Shape(NodeShape::Box)).unwrap();
    // Label the edge
    graph.set_attr_on_edge("A_to_B", CommonAttr::Label("A to B".into())).unwrap();
    // Set graph-level attributes
    graph.set_attr_on_graph(GraphAttr::RankDir(style::RankDir::LR)).unwrap();
    // Layout the graph using `dot`
    graph.set_layout(Layout::Dot);
    // Render the graph to SVG format
    let svg = ctx.render(&graph, OutputFormat::Svg);
    std::fs::write("example.svg", svg).unwrap();
}
```

### SVG generated by above code:

<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.0.0 (0) -->
<!-- Title: G Pages: 1 -->
<svg width="196pt" height="44pt" viewBox="0.00 0.00 196.00 44.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-40 191.5,-40 191.5,4 -4,4"/>
<!-- A -->
<g id="node1" class="node">
<title>A</title>
<polygon fill="none" stroke="black" points="54,-36 0,-36 0,0 54,0 54,-36"/>
<text xml:space="preserve" text-anchor="middle" x="27" y="-13.32" font-family="Times,serif" font-size="14.00">A</text>
</g>
<!-- B -->
<g id="node2" class="node">
<title>B</title>
<ellipse fill="none" stroke="black" cx="160.5" cy="-18" rx="27" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="160.5" y="-13.32" font-family="Times,serif" font-size="14.00">B</text>
</g>
<!-- A&#45;&gt;B -->
<g id="edge1" class="edge">
<title>A&#45;&gt;B</title>
<path fill="none" stroke="black" d="M54.29,-18C73.65,-18 100.23,-18 121.84,-18"/>
<polygon fill="black" stroke="black" points="121.74,-21.5 131.74,-18 121.74,-14.5 121.74,-21.5"/>
<text xml:space="preserve" text-anchor="middle" x="93.75" y="-21.95" font-family="Times,serif" font-size="14.00">A to B</text>
</g>
</g>
</svg>

## Safety
While this crate provides a safe wrapper over unsafe C bindings, all `Graph` objects must be dropped before their parent `Context`.

 ## Optional Features
 -  `serde`: Enables serialization and deserialization for enums like `Layout`, `OutputFormat`, and attribute types.
 -  `bindings`: Enables native C bindings for the use of graphviz, on by default.

## License
Licensed under MIT or Apache-2.0.